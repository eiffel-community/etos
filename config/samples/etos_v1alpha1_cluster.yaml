apiVersion: etos.eiffel-community.github.io/v1alpha1
kind: Cluster
metadata:
  labels:
    app.kubernetes.io/name: etos
    app.kubernetes.io/managed-by: kustomize
  name: cluster-sample  # This is used by e2e test, don't change
spec:
  etos:
    config:
      encryptionKey:
        value: "ZmgcW2Qz43KNJfIuF0vYCoPneViMVyObH4GR8R9JE4g="  # This is used by e2e test, don't change
      routingKeyTag: cluster-sample-etos  # This is used by e2e test, don't change
      etosApiURL: http://cluster-sample-etos-api.etos-test.svc.cluster.local/api  # This is used by e2e test, don't change
      environmentTimeout: "60"
    api:
      image: "ghcr.io/eiffel-community/etos-api:018a536f"
    sse:
      image: "ghcr.io/eiffel-community/etos-sse:018a536f"
    logArea:
      image: "ghcr.io/eiffel-community/etos-logarea:018a536f"
    environmentProvider:
      image: ghcr.io/eiffel-community/etos-environment-provider:b7590430
    suiteRunner:
      image: ghcr.io/eiffel-community/etos-suite-runner:c85d419e
      logListener:
        etosQueueName: "*.testlog"
        image: ghcr.io/eiffel-community/etos-log-listener:c85d419e
    suiteStarter:
      image: ghcr.io/eiffel-community/etos-suite-starter:76543433
      eiffelQueueName: etos-suite-starter
    testRunner:
      version: "3.6.0"
  database:
    deploy: true
  messageBus:
    eiffel:
      deploy: true
    logs:
      deploy: true
  eventRepository:
    deploy: true
    eiffelQueueName: etos
    api:
      image: ghcr.io/eiffel-community/eiffel-graphql-api:latest
    storage:
      image: ghcr.io/eiffel-community/eiffel-graphql-storage:latest
    mongo:
      deploy: true
